{% extends 'base.html' %}
{% load static %}

{% block styles %}
<style>
    .top-donar-container {
        max-width: 700px;
        margin: 40px auto;
        background: #23272f;
        border-radius: 18px;
        box-shadow: 0 8px 40px rgba(33,150,243,0.10);
        padding: 40px 36px 32px 36px;
        color: #fff;
    }
    .top-donar-title {
        font-size: 2rem;
        font-weight: bold;
        color: #ffb300;
        margin-bottom: 18px;
        text-align: center;
    }
    .donar-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 18px;
    }
    .donar-table th, .donar-table td {
        padding: 12px 10px;
        border-bottom: 1px solid #22304a;
        text-align: left;
    }
    .donar-table th {
        color: #ffb300;
        font-weight: 600;
        background: #23272f;
    }
    .donar-table td {
        color: #e3f2fd;
        background: #22304a;
        border-radius: 6px;
    }
    .profile-pic {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        object-fit: cover;
        border: 2px solid #ffb300;
    }
</style>
{% endblock styles %}

{% block content %}
<div class="top-donar-container">
    <div class="top-donar-title">Top Donors</div>
    <table class="donar-table">
        <thead>
            <tr>
                <th>Profile</th>
                <th>Username</th>
                <th>Email</th>
                <th>Total Donated</th>
            </tr>
        </thead>
        <tbody>
        {% for donar in top_donars %}
            <tr>
                <td>
                    {% if donar.profile_pic %}
                        <img src="{{ donar.profile_pic.url }}" class="profile-pic" alt="Profile Pic">
                    {% else %}
                        <img src="{% static 'IMG/default_profile.png' %}" class="profile-pic" alt="Default Profile Pic">
                    {% endif %}
                </td>
                <td>{{ donar.username }}</td>
                <td>{{ donar.email }}</td>
                <td>{{ donar.total_donated|floatformat:2 }} Taka</td>
            </tr>
        {% empty %}
            <tr><td colspan="4" style="text-align:center;">No donors found.</td></tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}
